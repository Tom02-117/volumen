<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuestras Clases - Volumen de Hierro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
  <link href="estilos.css" rel="stylesheet"> 

</head>

<body class="clases-page">

<header>
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm py-1">
  <div class="container-fluid d-flex align-items-center justify-content-between px-4">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="../img/logo.png" alt="Logo Volumen de Hierro" width="160" height="130"  class="logo-ajustado">
    </a>
    <ul class="navbar-nav d-none d-lg-flex flex-row gap-3 mx-auto">
      <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="index.html">Inicio</a></li>
      <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="#sedes">Membresias</a></li>
      <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="#compensacion">Descuentos</a></li>
      <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="#promociones">Mira tu plan</a></li>
      <a href="login.html" class="btn btn-warning fw-semibold rounded-pill px-4 ms-2">¡Iniciar sesión!</a>
    </ul>
    <button class="btn btn-outline-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuLateral">
      ☰  ❚█══█❚ 
    </button>
  </div>
</nav>

<div class="offcanvas offcanvas-end" tabindex="-1" id="menuLateral">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Más de nosotros</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="navbar-nav text-center">
      <li class="nav-item"><a class="nav-link fw-semibold" href="login.html"><i class="bi bi-person-fill me-1"></i> Tú Volumen</a></li>
      <li class="nav-item"><a class="nav-link fw-semibold" href="#espacio"><i class="bi bi-whatsapp me-2"></i>WhatsApp</a></li>
      <li class="nav-item"><a class="nav-link fw-semibold" href="#sedes">Sedes</a></li>
      <li class="nav-item"><a class="nav-link fw-semibold" href="#corporativo">Corporativo</a></li>
      <li class="nav-item"><a class="nav-link fw-semibold" href="#promociones">Promociones</a></li>
    </ul>
    <div class="text-center mt-4">
      <a href="#inscribete" class="btn btn-warning fw-semibold rounded-pill px-4">¡Inscríbete ya!</a>
    </div>
  </div>
</div>
</header>
<br>
<h1 id="titulo-animado">
  <span class="texto-normal">Conoce sobre</span> 
  <span class="texto-gym">nuestras clases</span>
</h1>
<h3 id="titulo-animado2">
  <span class="texto-gym">Solo en </span> 
  <span class="texto-normal">Volumen de Hierro</span>
</h3>


<main class="container my-5">
  <div class="row g-4">
    
    <div class="col-md-4">
      <div class="clase-card p-4 text-center">
        <i class="bi bi-bicycle display-3 text-warning"></i>
        <h3>Hierro - House</h3>
        <p>Entrena resistencia al ritmo del techno HOUSE.</p>
        <a href="#" class="btn btn-dark btn-sm">Inscribirse</a>
      </div>
    </div>

    <div class="col-md-4">
      <div class="clase-card p-4 text-center">
        <i class="bi bi-peace display-3 text-success"></i>
        <h3>Yoga</h3>
        <p>Mejora tu flexibilidad y encuentra equilibrio en nuestras sesiones de Yoga guiadas.</p>
        <a href="#" class="btn btn-dark btn-sm">Inscribirse</a>
      </div>
    </div>

    <div class="col-md-4">
      <div class="clase-card p-4 text-center">
        <i class="bi bi-lightning-charge-fill display-3 text-danger"></i>
        <h3>Crossfit</h3>
        <p>Desafía tus límites con entrenamientos de alta intensidad y fuerza funcional.</p>
        <a href="#" class="btn btn-dark btn-sm">Inscribirse</a>
      </div>
    </div>
  </div>
</main>


<!-- Modal de Inicio de Sesión para Miembros -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Reservar Clase Gratuita (Miembros)</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>Ingresa tus datos para confirmar tu reserva con tu membresía activa.</p>
        <form id="loginForm" method="POST" action="cliente/procesar_asistencia.php">
          <input type="hidden" name="clase" id="claseSeleccionada">
          <input type="hidden" name="dia" id="diaSeleccionado">
          <input type="hidden" name="hora" id="horaSeleccionada">
          <div class="mb-3">
            <label for="cedula" class="form-label">Número de Documento</label>
            <input type="text" class="form-control" name="cedula" required>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Contraseña</label>
            <input type="password" class="form-control" name="password" required>
          </div>
          <button type="submit" class="btn btn-primary w-100">Verificar y Reservar</button>
        </form>
      </div>
    </div>
  </div>
</div>


<br>
<section class="clases-page container my-4">
  <h3 id="titulo-animado">
  <span class="texto-normal">Horarios para </span> 
  <span class="texto-gym">las clases</span>
</h3>
  <div class="table-responsive">
    <table class="table table-bordered text-center align-middle">
      <thead class="table-dark">
        <tr>
          <th>Hora</th>
          <th>Lunes</th>
          <th>Martes</th>
          <th>Miércoles</th>
          <th>Jueves</th>
          <th>Viernes</th>
          <th>Sábado</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>6:00 AM</td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Yoga">Yoga</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Crossfit">Crossfit</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Yoga">Yoga</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Cardio Dance">Cardio Dance</button></td>
        </tr>
        <tr>
          <td>8:00 AM</td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Yoga">Yoga</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Crossfit">Crossfit</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Cardio Dance">Cardio Dance</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Crossfit">Crossfit</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
        </tr>
        <tr>
          <td>6:00 PM</td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Crossfit">Crossfit</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Yoga">Yoga</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Crossfit">Crossfit</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Zumba">Zumba</button></td>
        </tr>
        <tr>
          <td>8:00 PM</td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Cardio Dance">Cardio Dance</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Yoga">Yoga</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Zumba">Zumba</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Crossfit">Crossfit</button></td>
          <td><button class="btn btn-sm btn-outline-primary btn-inscribirse" data-clase="Spinning">Spinning</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<footer class="footer">
    <!-- ... tu código de footer ... -->
</footer>

<!-- =================================================================
     SECCIÓN DE SCRIPTS CORREGIDA Y UNIFICADA
     ================================================================= -->

<!-- 1. Cargar la librería de Bootstrap PRIMERO -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- 2. Cargar la librería de SweetAlert SEGUNDO -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- 3. TU CÓDIGO PERSONALIZADO TERCERO (y todo en un solo bloque) -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // --- LÓGICA PARA LOS BOTONES DE INSCRIPCIÓN ---
        const dias = ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"];

        document.querySelectorAll(".btn-inscribirse").forEach(btn => {
            btn.addEventListener("click", e => {
                e.preventDefault();
                const claseSeleccionada = btn.getAttribute("data-clase");
                const fila = btn.closest("tr");
                const hora = fila.querySelector("td").innerText;
                const celdaIndex = Array.from(fila.children).indexOf(btn.parentElement);
                const dia = dias[celdaIndex - 1];

                Swal.fire({
                    icon: "question",
                    title: "Confirmar Reserva",
                    html: `Has seleccionado: <b>${claseSeleccionada} (${dia} - ${hora})</b>.<br><br>¿Cómo deseas proceder?`,
                    showDenyButton: true,
                    confirmButtonText: "Soy Miembro (Usar Plan)",
                    denyButtonText: "Pagar Clase Individual",
                    confirmButtonColor: "#ffc107",
                    denyButtonColor: "#28a745",
                }).then((result) => {
                    if (result.isConfirmed) {
                        document.getElementById("claseSeleccionada").value = claseSeleccionada;
                        document.getElementById("diaSeleccionado").value = dia;
                        document.getElementById("horaSeleccionada").value = hora;
                        // Asegúrate de que 'bootstrap' esté disponible
                        if (typeof bootstrap !== 'undefined') {
                            const loginModal = new bootstrap.Modal(document.getElementById("loginModal"));
                            loginModal.show();
                        } else {
                            console.error("Bootstrap no está cargado. El modal no se puede abrir.");
                        }
                    } else if (result.isDenied) {
                        const pagoUrl = `login.html?redirect=pagar_clase&clase=${encodeURIComponent(claseSeleccionada)}&dia=${encodeURIComponent(dia)}&hora=${encodeURIComponent(hora)}`;
                        window.location.href = pagoUrl;
                    }
                });
            });
        });
        
        // --- LÓGICA PARA INTERPRETAR LAS RESPUESTAS DEL BACKEND ---
        const params = new URLSearchParams(window.location.search);

        if (params.get("reserva") === "ok") {
            Swal.fire({ 
                icon: "success", 
                title: "¡Clase Reservada!", 
                text: `Te has inscrito exitosamente a la clase de ${params.get("clase")}. Puedes verla en tu panel.` 
            }).then(() => { 
                window.history.replaceState({}, document.title, window.location.pathname); 
            });
        }

        if (params.get("reserva") === "error") {
            Swal.fire({ 
                icon: "error", 
                title: "Credenciales Incorrectas", 
                text: "El usuario o la contraseña no son válidos. Por favor, intenta de nuevo." 
            }).then(() => { 
                window.history.replaceState({}, document.title, window.location.pathname); 
            });
        }
        
        if (params.get("reserva") === "sin_membresia" || params.get("reserva") === "limite") {
            const clase = params.get("clase") || "";
            const dia = params.get("dia") || "";
            const hora = params.get("hora") || "";
            
            const titulo = params.get("reserva") === "limite" ? "Límite Diario Alcanzado" : "Membresía no Activa";
            const texto = params.get("reserva") === "limite" ? `Ya tienes una clase reservada para el <b>${dia}</b>. Tu plan solo permite una clase gratuita por día.` : `No hemos encontrado una membresía activa para tu cuenta.`;

            Swal.fire({
                icon: "warning",
                title: titulo,
                html: `${texto}<br><br>¿Deseas pagar por esta clase individualmente?`,
                showCancelButton: true,
                confirmButtonText: "Sí, ir a Pagar",
                cancelButtonText: "Cancelar",
                confirmButtonColor: "#28a745",
            }).then((result) => {
                if (result.isConfirmed) {
                    const pagoUrl = `login.html?redirect=pagar_clase&clase=${encodeURIComponent(clase)}&dia=${encodeURIComponent(dia)}&hora=${encodeURIComponent(hora)}`;
                    window.location.href = pagoUrl;
                } else {
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            });
        }
    });
</script>

</body>
</html>